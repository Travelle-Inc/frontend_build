<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test LocalStorage Recent Searches</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        h2 {
            color: #333;
        }
        .search-item {
            background: #f0f0f0;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
        }
        .count {
            font-weight: bold;
            color: #0066cc;
        }
        button {
            background: #0066cc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover {
            background: #0052a3;
        }
    </style>
</head>
<body>
    <h1>LocalStorage Recent Searches Test</h1>
    
    <button onclick="initializeData()">Initialize Test Data</button>
    <button onclick="loadData()">Reload Data</button>
    <button onclick="clearData()">Clear All Data</button>

    <div id="results"></div>

    <script>
        function initializeData() {
            // Flight searches
            const recentFlightSearches = [
                {
                    origin: 'New York, NY',
                    destination: 'Rome, Italy',
                    departDate: 'Feb 10',
                    returnDate: 'Feb 18',
                    travelers: 2,
                    class: 'Economy'
                },
                {
                    origin: 'Los Angeles, CA',
                    destination: 'Tokyo, Japan',
                    departDate: 'Mar 15',
                    returnDate: 'Mar 25',
                    travelers: 1,
                    class: 'Business'
                },
                {
                    origin: 'Miami, FL',
                    destination: 'Paris, France',
                    departDate: 'Apr 5',
                    returnDate: 'Apr 12',
                    travelers: 4,
                    class: 'Economy'
                },
                {
                    origin: 'Chicago, IL',
                    destination: 'London, UK',
                    departDate: 'May 20',
                    returnDate: 'May 28',
                    travelers: 2,
                    class: 'Premium Economy'
                },
                {
                    origin: 'San Francisco, CA',
                    destination: 'Barcelona, Spain',
                    departDate: 'Jun 10',
                    returnDate: 'Jun 20',
                    travelers: 3,
                    class: 'Economy'
                }
            ];

            // Hotel/Stays searches
            const recentHotelSearches = [
                {
                    destination: 'Paris, France',
                    location: 'Paris, France',
                    checkIn: 'Feb 10',
                    checkOut: 'Feb 15',
                    departDate: 'Feb 10',
                    returnDate: 'Feb 15',
                    guests: 4,
                    travelers: 4,
                    rooms: 2,
                    class: 'Standard'
                },
                {
                    destination: 'Tokyo, Japan',
                    location: 'Tokyo, Japan',
                    checkIn: 'Mar 20',
                    checkOut: 'Mar 27',
                    departDate: 'Mar 20',
                    returnDate: 'Mar 27',
                    guests: 2,
                    travelers: 2,
                    rooms: 1,
                    class: 'Luxury'
                },
                {
                    destination: 'Barcelona, Spain',
                    location: 'Barcelona, Spain',
                    checkIn: 'Apr 15',
                    checkOut: 'Apr 22',
                    departDate: 'Apr 15',
                    returnDate: 'Apr 22',
                    guests: 2,
                    travelers: 2,
                    rooms: 1,
                    class: 'Standard'
                },
                {
                    destination: 'New York, NY',
                    location: 'New York, NY',
                    checkIn: 'May 5',
                    checkOut: 'May 10',
                    departDate: 'May 5',
                    returnDate: 'May 10',
                    guests: 3,
                    travelers: 3,
                    rooms: 2,
                    class: 'Boutique'
                },
                {
                    destination: 'Dubai, UAE',
                    location: 'Dubai, UAE',
                    checkIn: 'Jun 1',
                    checkOut: 'Jun 8',
                    departDate: 'Jun 1',
                    returnDate: 'Jun 8',
                    guests: 2,
                    travelers: 2,
                    rooms: 1,
                    class: 'Resort'
                }
            ];

            localStorage.setItem('recentFlightSearches', JSON.stringify(recentFlightSearches));
            localStorage.setItem('recentHotelSearches', JSON.stringify(recentHotelSearches));
            
            alert('✅ Data initialized!');
            loadData();
        }

        function loadData() {
            const resultsDiv = document.getElementById('results');
            
            const flights = JSON.parse(localStorage.getItem('recentFlightSearches') || '[]');
            const hotels = JSON.parse(localStorage.getItem('recentHotelSearches') || '[]');

            let html = '';
            
            html += `<h2>Flight Searches <span class="count">(${flights.length})</span></h2>`;
            flights.forEach((search, i) => {
                html += `<div class="search-item">${i+1}. ${search.origin} → ${search.destination}, ${search.departDate} - ${search.returnDate}, ${search.travelers} travelers, ${search.class}</div>`;
            });

            html += `<h2>Hotel/Stays Searches <span class="count">(${hotels.length})</span></h2>`;
            hotels.forEach((search, i) => {
                html += `<div class="search-item">${i+1}. ${search.destination}, ${search.checkIn} - ${search.checkOut}, ${search.guests} guests, ${search.rooms} room(s), ${search.class}</div>`;
            });

            resultsDiv.innerHTML = html;
        }

        function clearData() {
            localStorage.removeItem('recentFlightSearches');
            localStorage.removeItem('recentHotelSearches');
            alert('❌ Data cleared!');
            loadData();
        }

        // Load on page load
        loadData();
    </script>
</body>
</html>
